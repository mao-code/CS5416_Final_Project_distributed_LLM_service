#!/usr/bin/env bash

echo "Starting Node $NODE_NUMBER..."

NODE_NUMBER=$NODE_NUMBER NODE_0_IP=$NODE_0_IP NODE_1_IP=$NODE_1_IP NODE_2_IP=$NODE_2_IP TOTAL_NODES=$TOTAL_NODES FAISS_INDEX_PATH=$FAISS_INDEX_PATH DOCUMENTS_DIR=$DOCUMENTS_DIR python -m distributed.run_node

# Example Usage
# NODE_NUMBER=0 \
# NODE_0_IP=127.0.0.1:8000 \
# NODE_1_IP=127.0.0.1:8001 \
# NODE_2_IP=127.0.0.1:8002 \
# TOTAL_NODES=3 \
# FAISS_INDEX_PATH=faiss_index.bin \
# DOCUMENTS_DIR=documents \
# ./run.sh

# NODE_0_IP=132.236.91.187:8011 NODE_1_IP=132.236.91.187:8087 NODE_2_IP=132.236.91.188:8002 ./client.sh